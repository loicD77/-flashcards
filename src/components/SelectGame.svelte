<script>
  import { createEventDispatcher } from 'svelte';
  import { getSets } from '$lib/dataManager'; // On a importÃ© la fonction getSets provenant de dataManager.js

  const dispatch = createEventDispatcher();
  const sets = getSets(); // Ici la fonction nous permet d'obtenir une des collections

  // Utilisation du dispatch pour Ã©mettre l'Ã©vÃ©nement 'gameSelected'
  function selectSet(set) {   // On a mis set en parametre de la fonction, on aura Ã  la place animals, tech et emotions, on pourra choisir l'un des jeux
    dispatch('gameSelected', set); // Envoie au parent le jeu sÃ©lectionnÃ© (set) via un Ã©vÃ©nement appelÃ© "gameSelected"
  } 
</script>

<h2>Choisis un jeu :</h2>

<!-- 
Selon https://developer.mozilla.org/fr/docs/Web/API/HTMLElement/click : 
Lorsque la mÃ©thode click() est appelÃ©e sur un Ã©lÃ©ment qui la prend en charge (par exemple un <input>), 
elle dÃ©clenche lâ€™Ã©vÃ©nement click de cet Ã©lÃ©ment. Lâ€™Ã©vÃ©nement remonte ensuite dans lâ€™arbre DOM 
et peut dÃ©clencher les Ã©vÃ©nements click des Ã©lÃ©ments parents (bubbling).
-->

<div class="set-container">
  <button class="set-button" on:click={() => selectSet('animals')}>  
    <img class="set-image" src="/img/animal.jpg" alt="Animals" />
    <span class="set-label">ğŸ¾ Animals</span>
  </button>

  <button class="set-button" on:click={() => selectSet('tech')}>
    <img class="set-image" src="/img/informatique.jpg" alt="Tech" />
    <span class="set-label">ğŸ’» Tech</span>
  </button>

  <button class="set-button" on:click={() => selectSet('emotions')}>
    <img class="set-image" src="/img/emoticons.png" alt="Emotions" />
    <span class="set-label">ğŸ˜Š Emotions</span>
  </button>
</div>
